
Overview

Ironclad's purpose is to allow IronPython to transparently import and use
compiled CPython extensions. Currently, it only works on 32-bit Windows,
although we are trying to avoid using too much platform-specific code: we
would very much like to make Ironclad work on Mono as well. It contains
two major components:

* A stub library which impersonates CPython, autogenerated from (1) the
compiled Python library and (2) various snippets of C code located in the
'stub' directory;

* A CLR assembly which loads and initialises the stub, so that subsequent
CPython API calls are intercepted and handled by managed code (which will
generally affect the state of an IronPython engine). The vast majority of
the work is done by Python25Mapper, a vast and monolithic subclass of the
autogenerated Python25Api class.


Status

* It is possible to import the Python 2.5 bz2 module; all its functions, 
types, and strings are accessible from IronPython. See 'functionalitytest.py' 
(all of which should pass) for examples.

* It is possible to import numpy without errors, and to use most of it; almost
1200 tests pass in numpy 1.3. Memory-mapped files must be explicitly closed to
preve

* scipy 0.7 will import without errors, and most of it can be used; we have yet 
to enumerate precisely what works and what doesn't, although over 1600 
tests pass. The other tests either fail or just run very slowly.

* h5py 1.1 imports without (visible) errors, and 115 tests pass. h5py 1.2 
doesn't work.

* matplotlib 0.9.8 imports without errors; interactive backends don't work, 
but some non-interactive ones do. Haven't even looked for a matplotlib test
suite.

* Some of BioPython works; slightly more of it works with trivial patches;
in addition, lots of things appear to work in practise but not under test.
YMMV, but we're keen to fix the problems, so please let us know what affects 
you.

* PIL 1.1.6 imports and probably mostly works, but it doesn't come with tests,
so we're not entirely sure.

* More than half the .pyds shipped with Python25 import without errors;
cElementTree appears to work, and winsound.MessageBeep works, but we haven't 
tested any of them extensively.

* Unicode stuff doesn't work at all. Don't try, you'll probably just crash.

* Is is not possible to use more than one StubReference in a given process,
and we see no way around this limitation; this should not present 
insurmountable problems, since modules can be shared between PythonEngine 
instances, but it should be borne in mind.


Next steps

* 64-bit support
* Mono support
* Find out which broken parts of numpy, scipy, and matplotlib are "important".
* Fix them.
* Find out what other extensions people are interested in (please let us know!):
** PyTables?
